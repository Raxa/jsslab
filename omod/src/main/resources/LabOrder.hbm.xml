<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="org.openmrs.module.jsslab.LabOrder" table="jsslab_order">
	<id name="orderId" column="order_id">
		<generator class="foreign">
		<param name="property">order</param>
		</generator>
	</id>
	
	<one-to-one name="order" class="org.openmrs.Order" constrained="true" />
   	<property name="urgent" type="java.lang.Boolean" column="urgent" not-null="true" />
   	<many-to-one name="retestOf" class="org.openmrs.module.jsslab.LabOrder" not-null="false" column="retest_of" />
	<property name="physicianRetest" type="java.lang.Boolean" not-null="false" column="physician_retest" />
	<property name="retestReason" type="java.lang.String" column="retest_reason" length="255" />

	<property name="uuid" type="java.lang.String" column="uuid" length="38" unique="true" />

	<set name="specimens" inverse="true" >
		<key column="order_id" not-null="true" />
		<one-to-many class="org.openmrs.module.jsslab.LabOrderSpecimen" />
	</set>
	
</class>
</hibernate-mapping>
